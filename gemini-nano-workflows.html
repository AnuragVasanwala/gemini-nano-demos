<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Nano API Workflows & Integrations</title>
    <meta name="description" content="Explore advanced workflows and integrations using Chrome's built-in Gemini Nano AI capabilities - combining translation, summarization, writing, and more in powerful ways.">
    <meta name="keywords" content="Gemini Nano, Chrome, AI Workflows, On-device AI, Machine Learning, Translation, Summarization, LLM, AI Integrations">
    <meta name="author" content="Anurag Vasanwala">
    <meta property="og:title" content="Gemini Nano API Workflows & Integrations">
    <meta property="og:description" content="Explore advanced workflows and integrations using Chrome's built-in Gemini Nano AI capabilities">
    <meta property="og:image" content="https://anuragvasanwala.github.io/gemini-nano-demos/assets/gemini-nano-featured-image.webp">
    <meta property="og:url" content="https://anuragvasanwala.github.io/gemini-nano-demos/gemini-nano-workflows.html">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="canonical" href="https://anuragvasanwala.github.io/gemini-nano-demos/gemini-nano-workflows.html">
    <style>
        :root {
            --primary: #4285f4;
            --primary-dark: #3367d6;
            --secondary: #ea4335;
            --green: #34a853;
            --yellow: #fbbc05;
            --surface: #ffffff;
            --background: #f8f9fa;
            --on-surface: #202124;
            --on-surface-variant: #5f6368;
            --on-primary: #ffffff;
            --error: #d93025;
            --warning: #f29900;
            --success: #188038;
            --info: #1a73e8;
            --border: #dadce0;
            --shadow-1: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
            --shadow-2: 0 1px 3px 0 rgba(60, 64, 67, 0.3), 0 4px 8px 3px rgba(60, 64, 67, 0.15);
            --shadow-3: 0 2px 6px 2px rgba(60, 64, 67, 0.15), 0 1px 2px 0 rgba(60, 64, 67, 0.3);
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 16px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            --font-family: "Google Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family);
            background: var(--background);
            color: var(--on-surface);
            min-height: 100vh;
            padding: var(--spacing-lg);
            line-height: 1.5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-1);
        }
        
        header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }
        
        h1 {
            color: var(--on-surface);
            margin-bottom: var(--spacing-md);
            font-size: 2.25rem;
            font-weight: 500;
        }
        
        h1 span {
            color: var(--primary);
        }
        
        .subtitle {
            color: var(--on-surface-variant);
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto var(--spacing-lg);
        }
        
        .nav-links {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
        }
        
        .nav-link {
            color: var(--primary);
            text-decoration: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-sm);
            transition: background-color 0.2s;
        }
        
        .nav-link:hover {
            background-color: rgba(66, 133, 244, 0.1);
        }
        
        .workflow-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
        }
        
        .workflow-card {
            background: var(--surface);
            border-radius: var(--radius-md);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-1);
            transition: all 0.2s ease;
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }
        
        .workflow-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary);
        }
        
        .workflow-card:hover {
            box-shadow: var(--shadow-2);
            transform: translateY(-2px);
        }
        
        .workflow-title {
            color: var(--on-surface);
            margin-bottom: var(--spacing-md);
            font-size: 1.25rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .workflow-description {
            color: var(--on-surface-variant);
            margin-bottom: var(--spacing-lg);
            font-size: 0.9rem;
        }
        
        .workflow-diagram {
            background-color: rgba(66, 133, 244, 0.05);
            padding: var(--spacing-md);
            border-radius: var(--radius-sm);
            margin-bottom: var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }
        
        .workflow-step {
            background-color: var(--surface);
            border: 1px solid var(--primary);
            border-radius: var(--radius-sm);
            padding: var(--spacing-sm) var(--spacing-md);
            text-align: center;
            width: 28%;
            font-size: 0.9rem;
            z-index: 2;
        }
        
        .workflow-step-icon {
            display: block;
            font-size: 1.5rem;
            margin-bottom: var(--spacing-xs);
        }
        
        .workflow-arrow {
            width: 5%;
            color: var(--primary);
            font-size: 1.5rem;
            text-align: center;
            z-index: 1;
        }
        
        .input-group {
            margin-bottom: var(--spacing-md);
        }
        
        label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: 500;
            color: var(--on-surface);
            font-size: 0.9rem;
        }
        
        input, textarea, select {
            width: 100%;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-size: 0.95rem;
            font-family: var(--font-family);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            color: var(--on-surface);
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.2);
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }
        
        button {
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-sm);
            min-height: 36px;
        }
        
        button:hover {
            background: var(--primary-dark);
            box-shadow: var(--shadow-1);
        }
        
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        button.secondary {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        button.secondary:hover {
            background: rgba(66, 133, 244, 0.05);
        }
        
        .result-container {
            margin-top: var(--spacing-lg);
            border-top: 1px solid var(--border);
            padding-top: var(--spacing-lg);
        }
        
        .result-step {
            margin-bottom: var(--spacing-md);
        }
        
        .result-step-title {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-weight: 500;
            margin-bottom: var(--spacing-sm);
            font-size: 0.95rem;
        }
        
        .result-content {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: var(--spacing-md);
            font-size: 0.9rem;
            color: var(--on-surface);
            white-space: pre-wrap;
            font-family: 'Roboto Mono', monospace;
        }
        
        .status {
            padding: var(--spacing-sm);
            border-radius: var(--radius-sm);
            margin-bottom: var(--spacing-sm);
            font-size: 0.875rem;
            font-weight: 400;
        }
        
        .status.loading {
            background: rgba(251, 188, 5, 0.1);
            color: var(--warning);
            border: 1px solid rgba(251, 188, 5, 0.3);
        }
        
        .status.success {
            background: rgba(52, 168, 83, 0.1);
            color: var(--success);
            border: 1px solid rgba(52, 168, 83, 0.3);
        }
        
        .status.error {
            background: rgba(234, 67, 53, 0.1);
            color: var(--error);
            border: 1px solid rgba(234, 67, 53, 0.3);
        }
        
        .status.info {
            background: rgba(66, 133, 244, 0.1);
            color: var(--info);
            border: 1px solid rgba(66, 133, 244, 0.3);
        }
        
        .loading-progress {
            height: 4px;
            width: 100%;
            background-color: rgba(66, 133, 244, 0.2);
            border-radius: 2px;
            overflow: hidden;
            margin-bottom: var(--spacing-md);
        }
        
        .loading-progress-bar {
            height: 100%;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }
        
        footer {
            text-align: center;
            margin-top: var(--spacing-xl);
            color: var(--on-surface-variant);
            font-size: 0.9rem;
        }
        
        .use-case-tag {
            display: inline-block;
            background: rgba(66, 133, 244, 0.1);
            color: var(--primary);
            border-radius: var(--radius-sm);
            padding: 2px 8px;
            font-size: 0.8rem;
            margin-right: var(--spacing-xs);
            margin-bottom: var(--spacing-xs);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: var(--spacing-md);
            }
            
            .workflow-grid {
                grid-template-columns: 1fr;
            }
            
            .workflow-diagram {
                flex-direction: column;
                gap: var(--spacing-md);
            }
            
            .workflow-step {
                width: 100%;
            }
            
            .workflow-arrow {
                transform: rotate(90deg);
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }
        
        /* Additional styles for navigation and setup section */
        .requirements {
            background: rgba(66, 133, 244, 0.05);
            border-radius: var(--radius-md);
            border: 1px solid rgba(66, 133, 244, 0.2);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        
        .requirements h3 {
            margin-bottom: var(--spacing-md);
            color: var(--primary);
        }
        
        .requirements ul {
            padding-left: var(--spacing-lg);
        }
        
        .requirements li {
            margin-bottom: var(--spacing-sm);
        }
        
        .setup-intro {
            text-align: center;
            margin-bottom: var(--spacing-md);
        }
        
        .setup-link {
            color: var(--primary);
            font-weight: 500;
            text-decoration: none;
        }
        
        .setup-link:hover {
            text-decoration: underline;
        }
        
        .footer-links {
            margin-top: var(--spacing-md);
            font-size: 0.85rem;
        }
        
        .footer-links a {
            color: var(--primary);
            text-decoration: none;
            padding: var(--spacing-xs) var(--spacing-sm);
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        /* Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Mono&display=swap');
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="36" height="36" viewBox="0 0 192 192"><path fill="none" d="M0 0h192v192H0z"/><g fill="#4285F4"><path d="M133.52 16.39C122.52 11.17 109.43 8 97 8 59.48 8 37.04 39.06 39.45 69.4c1.09 13.73 7.83 27.02 18.98 37.4 4.14 3.84 8.62 7.04 13.26 9.53a31.482 31.482 0 0 1-6.98-15.19C62.22 85.89 72.28 63.45 98 63.45c27.66 0 58.14 26.31 60.69 58.64 1.58 19.77-5.93 37.61-18.6 50.04C166.37 156.9 184 128.5 184 96c0-35.17-20.65-65.53-50.48-79.61z"/><path d="M152.55 122.6c-1.09-13.73-7.83-27.02-18.98-37.4-4.14-3.84-8.62-7.04-13.26-9.53 3.58 4.25 6.04 9.47 6.98 15.19 2.49 15.25-7.57 37.69-33.29 37.69-27.66 0-58.14-26.31-60.69-58.64-1.58-19.77 5.93-37.61 18.6-50.04C25.63 35.1 8 63.5 8 96c0 35.17 20.65 65.53 50.48 79.61 11 5.22 24.08 8.39 36.52 8.39 37.52 0 59.96-31.06 57.55-61.4z"/></g></svg> <span>Gemini Nano</span> API Workflow Integrations</h1>
            <p class="subtitle">Discover how multiple Gemini Nano APIs can be chained together to create powerful workflows for real-world applications, all running locally on your device.</p>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link">üè† Home</a>
                <a href="index.html#setup" class="nav-link">‚öôÔ∏è Setup & Configuration</a>
                <a href="gemini-nano-samples.html" class="nav-link">üì± API Demos</a>
            </div>
        </header>
        
        <div class="requirements">
            <h3>‚ÑπÔ∏è Requirements & Setup</h3>
            <p class="setup-intro">Before using these workflows, ensure your browser is properly configured:</p>
            <ul>
                <li><strong>Chrome Version:</strong> Chrome 138+ required</li>
                <li><strong>Enable Flags:</strong> Go to <code>chrome://flags</code> and enable:
                    <ul>
                        <li><code>Prompt API for Gemini Nano</code> - Enable</li>
                        <li><code>Prompt API for Gemini Nano with Multimodal Input</code> - Enable</li>
                        <li><code>Summarization API for Gemini Nano</code> - Enable</li>
                        <li><code>Writer API for Gemini Nano</code> - Enable</li>
                        <li><code>Rewriter API for Gemini Nano</code> - Enable</li>
                        <li><code>Optimization Guide On Device Model</code> - Enable</li>
                    </ul>
                </li>
                <li><strong>Component Updates:</strong> Visit <code>chrome://components</code> and update "Optimization Guide On Device Model"</li>
                <li><strong>First Run:</strong> Models will download automatically when you first use each API</li>
                <li><strong>For detailed setup instructions with screenshots:</strong> <a href="index.html#setup" class="setup-link">View Complete Setup Guide</a></li>
            </ul>
        </div>
        
        <div class="workflow-grid">
            <!-- Workflow 1: Foreign Content Summarizer -->
            <div class="workflow-card">
                <h3 class="workflow-title">üåé Universal Content Summarizer</h3>
                <p class="workflow-description">Automatically detect a text's language, translate it to your preferred language, and generate a concise summary - all in one workflow.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîç</span>
                        Detect Language
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üåç</span>
                        Translate
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üìù</span>
                        Summarize
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="universalText">Paste Foreign Text:</label>
                    <textarea id="universalText" placeholder="Paste text in any language to detect, translate, and summarize...">La inteligencia artificial (IA) es la inteligencia llevada a cabo por m√°quinas. En ciencias de la computaci√≥n, una m√°quina ¬´inteligente¬ª ideal es un agente flexible que percibe su entorno y lleva a cabo acciones que maximicen sus posibilidades de √©xito en alg√∫n objetivo o tarea. Coloquialmente, el t√©rmino inteligencia artificial se aplica cuando una m√°quina imita las funciones ¬´cognitivas¬ª que los humanos asocian con otras mentes humanas, como por ejemplo: ¬´aprender¬ª y ¬´resolver problemas¬ª.</textarea>
                </div>
                
                <div class="input-group">
                    <label for="targetLanguage">Target Language:</label>
                    <select id="targetLanguage">
                        <option value="en">English</option>
                        <option value="de">German</option>
                        <option value="fr">French</option>
                        <option value="ja">Japanese</option>
                        <option value="zh">Chinese</option>
                        <option value="ko">Korean</option>
                        <option value="ru">Russian</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="summaryLength">Summary Length:</label>
                    <select id="summaryLength">
                        <option value="short">Short</option>
                        <option value="medium">Medium</option>
                        <option value="long">Long</option>
                    </select>
                </div>
                
                <div id="universalProgressContainer" class="loading-progress" style="display: none;">
                    <div id="universalProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runUniversalWorkflow()">üöÄ Process Content</button>
                    <button onclick="checkUniversalSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="universalStatus" class="status" style="display: none;"></div>
                
                <div id="universalResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üîç</span> Step 1: Language Detection
                        </div>
                        <div id="detectResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üåç</span> Step 2: Translation
                        </div>
                        <div id="translateResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üìù</span> Step 3: Summary
                        </div>
                        <div id="summarizeResult" class="result-content"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">News</span>
                    <span class="use-case-tag">Research</span>
                    <span class="use-case-tag">Global Communication</span>
                    <span class="use-case-tag">Academic</span>
                </div>
            </div>
            
            <!-- Workflow 2: Content Generator & Rewriter -->
            <div class="workflow-card">
                <h3 class="workflow-title">‚úçÔ∏è AI Content Generator & Polisher</h3>
                <p class="workflow-description">Generate draft content based on your prompt, then automatically refine it to improve tone, clarity, and professionalism.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üí¨</span>
                        Generate Draft
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîÑ</span>
                        Rewrite & Polish
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">‚ú®</span>
                        Final Content
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="contentPrompt">What would you like to write about?</label>
                    <textarea id="contentPrompt" placeholder="Describe what you want to generate...">Write an introduction paragraph for a blog post about sustainable technology trends.</textarea>
                </div>
                
                <div class="input-group">
                    <label for="contentTone">Desired Tone:</label>
                    <select id="contentTone">
                        <option value="formal">Professional/Formal</option>
                        <option value="casual">Casual/Conversational</option>
                        <option value="enthusiastic">Enthusiastic/Energetic</option>
                        <option value="informative">Informative/Educational</option>
                    </select>
                </div>
                
                <div id="contentProgressContainer" class="loading-progress" style="display: none;">
                    <div id="contentProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runContentWorkflow()">‚ú® Generate & Polish</button>
                    <button onclick="checkContentSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="contentStatus" class="status" style="display: none;"></div>
                
                <div id="contentResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üí¨</span> Step 1: Initial Draft
                        </div>
                        <div id="draftResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üîÑ</span> Step 2: Enhanced Version
                        </div>
                        <div id="enhancedResult" class="result-content"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Blogging</span>
                    <span class="use-case-tag">Email Writing</span>
                    <span class="use-case-tag">Content Marketing</span>
                    <span class="use-case-tag">Social Media</span>
                </div>
            </div>
            
            <!-- Workflow 3: Multilingual Customer Support -->
            <div class="workflow-card">
                <h3 class="workflow-title">üåê Universal Customer Support</h3>
                <p class="workflow-description">Allow customers to write in any language, then process their message to provide helpful responses in their native language.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîç</span>
                        Detect Language
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üåç</span>
                        Translate to English
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üí¨</span>
                        Generate Response
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üåç</span>
                        Translate Back
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="customerMessage">Customer Message (any language):</label>
                    <textarea id="customerMessage" placeholder="Customer message in any language...">Ich habe mein Paket noch nicht erhalten und es sollte letzte Woche ankommen. Meine Bestellnummer ist #12345. K√∂nnen Sie mir bitte helfen?</textarea>
                </div>
                
                <div class="input-group">
                    <label for="supportContext">Support Agent Context:</label>
                    <textarea id="supportContext" placeholder="Additional context for the support agent..." style="height: 60px;">You are a helpful customer support agent for an e-commerce store. Be friendly and try to solve the customer's issue efficiently.</textarea>
                </div>
                
                <div id="supportProgressContainer" class="loading-progress" style="display: none;">
                    <div id="supportProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runSupportWorkflow()">üöÄ Process Support Request</button>
                    <button onclick="checkSupportSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="supportStatus" class="status" style="display: none;"></div>
                
                <div id="supportResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üîç</span> Step 1: Detected Language
                        </div>
                        <div id="customerLanguageResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üåç</span> Step 2: Translated Message
                        </div>
                        <div id="translatedQueryResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üí¨</span> Step 3: Support Response (English)
                        </div>
                        <div id="supportResponseResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üåç</span> Step 4: Translated Response
                        </div>
                        <div id="translatedResponseResult" class="result-content"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Customer Support</span>
                    <span class="use-case-tag">E-commerce</span>
                    <span class="use-case-tag">Global Business</span>
                    <span class="use-case-tag">User Experience</span>
                </div>
            </div>
            
            <!-- Workflow 4: Intelligent Document Processor -->
            <div class="workflow-card">
                <h3 class="workflow-title">üìã Intelligent Document Processor</h3>
                <p class="workflow-description">Process long documents by first summarizing them, then using AI to analyze and extract specific information or answer questions.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üìù</span>
                        Summarize
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üí¨</span>
                        Extract Info/Answer
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">‚ú®</span>
                        Final Result
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="documentText">Document Text:</label>
                    <textarea id="documentText" placeholder="Paste a long document text here..." style="height: 150px;">The World Health Organization (WHO) is a specialized agency of the United Nations responsible for international public health. The WHO Constitution states its main objective as "the attainment by all peoples of the highest possible level of health". Headquartered in Geneva, Switzerland, it has six regional offices and 150 field offices worldwide.

The WHO was established on 7 April 1948. The first meeting of the World Health Assembly (WHA), the agency's governing body, took place on 24 July of that year. The WHO incorporated the assets, personnel, and duties of the League of Nations' Health Organization and the Office International d'Hygi√®ne Publique, including the International Classification of Diseases (ICD). Its work began in earnest in 1951 after a significant infusion of financial and technical resources.

The WHO's mandate includes advocating for universal healthcare, monitoring public health risks, coordinating responses to health emergencies, and promoting human health and well-being. It provides technical assistance to countries, sets international health standards, and collects data on global health issues. A publication, the World Health Report, provides assessments of worldwide health topics. The WHO has played a leading role in several public health achievements, most notably the eradication of smallpox, the near-eradication of polio, and the development of an Ebola vaccine. Its current priorities include communicable diseases, particularly HIV/AIDS, Ebola, COVID-19, malaria and tuberculosis; non-communicable diseases such as heart disease and cancer; healthy diet, nutrition, and food security; occupational health; and substance abuse.</textarea>
                </div>
                
                <div class="input-group">
                    <label for="documentQuery">Question or Information to Extract:</label>
                    <input type="text" id="documentQuery" placeholder="E.g., When was the WHO established?" value="What are the current priorities of the WHO?">
                </div>
                
                <div id="documentProgressContainer" class="loading-progress" style="display: none;">
                    <div id="documentProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runDocumentWorkflow()">üîç Process & Extract</button>
                    <button onclick="checkDocumentSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="documentStatus" class="status" style="display: none;"></div>
                
                <div id="documentResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üìù</span> Step 1: Document Summary
                        </div>
                        <div id="documentSummaryResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üí¨</span> Step 2: Information Extraction
                        </div>
                        <div id="documentAnswerResult" class="result-content"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Research</span>
                    <span class="use-case-tag">Legal Documents</span>
                    <span class="use-case-tag">Academic</span>
                    <span class="use-case-tag">Business Intelligence</span>
                </div>
            </div>
        </div>
        
        <h2 style="text-align: center; margin-top: var(--spacing-xxl); margin-bottom: var(--spacing-lg);">üöÄ Advanced Workflow Integrations</h2>
        
        <div class="workflow-grid">
            <!-- Advanced Workflow 1: Smart Reading Assistant -->
            <div class="workflow-card">
                <h3 class="workflow-title">üìö Smart Reading Assistant</h3>
                <p class="workflow-description">Convert complex text into more accessible formats: summary, simplified explanation, or expert analysis. Helps efficiently consume and understand content.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîç</span>
                        Detect Language
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üìù</span>
                        Process Content
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üß†</span>
                        Generate View
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="readingText">Text Content:</label>
                    <textarea id="readingText" placeholder="Paste text that you want to process..." style="height: 150px;">Quantum computing is a rapidly-emerging technology that harnesses the laws of quantum mechanics to solve problems too complex for classical computers. By using quantum bits or 'qubits', quantum computers can process enormous amounts of information with unprecedented efficiency. Unlike classical bits, qubits can exist in multiple states simultaneously due to superposition. Additionally, qubits can be entangled, meaning the state of one qubit can depend on the state of another, regardless of distance. These properties enable quantum computers to perform parallel computations and solve certain problems exponentially faster than classical computers.</textarea>
                </div>
                
                <div class="input-group">
                    <label for="readingMode">Reading Mode:</label>
                    <select id="readingMode">
                        <option value="summary">Key Points Summary</option>
                        <option value="simple">Simplified Explanation (ELI5)</option>
                        <option value="expert">Expert-Level Analysis</option>
                        <option value="questions">Generate Study Questions</option>
                    </select>
                </div>
                
                <div id="readingProgressContainer" class="loading-progress" style="display: none;">
                    <div id="readingProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runReadingAssistant()">üìö Process Content</button>
                    <button onclick="checkReadingSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="readingStatus" class="status" style="display: none;"></div>
                
                <div id="readingResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üîç</span> Step 1: Language Detection
                        </div>
                        <div id="readingLanguageResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üìù</span> Step 2: Processed Content
                        </div>
                        <div id="readingContentResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step" id="readingFollowupContainer" style="display: none;">
                        <div class="result-step-title">
                            <span>‚ùì</span> Follow-up Question
                        </div>
                        <div class="input-group">
                            <input type="text" id="followupQuestion" placeholder="Ask a follow-up question about this content...">
                            <button onclick="askFollowupQuestion()" style="margin-top: var(--spacing-sm);">Ask Question</button>
                        </div>
                        <div id="followupResult" class="result-content" style="margin-top: var(--spacing-md);"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Education</span>
                    <span class="use-case-tag">Research</span>
                    <span class="use-case-tag">Content Consumption</span>
                    <span class="use-case-tag">Learning</span>
                </div>
            </div>
            
            <!-- Advanced Workflow 2: Context-Aware Knowledge Extension -->
            <div class="workflow-card">
                <h3 class="workflow-title">üîé Knowledge Explorer</h3>
                <p class="workflow-description">Expand your understanding of concepts without leaving the current page. Get explanations, examples, and connections for any term or topic.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üí¨</span>
                        Concept Analysis
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîÑ</span>
                        Generate Context
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üß©</span>
                        Connect Ideas
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="contextConcept">Concept or Term:</label>
                    <input type="text" id="contextConcept" placeholder="Enter a concept you want to explore..." value="Neural Networks">
                </div>
                
                <div class="input-group">
                    <label for="contextMode">Exploration Mode:</label>
                    <select id="contextMode">
                        <option value="explain">Basic Explanation</option>
                        <option value="examples">Examples & Applications</option>
                        <option value="related">Related Concepts</option>
                        <option value="history">Historical Context</option>
                    </select>
                </div>
                
                <div id="contextProgressContainer" class="loading-progress" style="display: none;">
                    <div id="contextProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runContextExplorer()">üîç Explore Concept</button>
                    <button onclick="checkContextSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="contextStatus" class="status" style="display: none;"></div>
                
                <div id="contextResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üìñ</span> Concept Explanation
                        </div>
                        <div id="conceptExplanationResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üîÑ</span> Context & Connections
                        </div>
                        <div id="conceptContextResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üß©</span> Related Topics
                        </div>
                        <div id="relatedTopicsContainer" style="display: flex; flex-wrap: wrap; gap: var(--spacing-sm); margin-top: var(--spacing-sm);"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Education</span>
                    <span class="use-case-tag">Research</span>
                    <span class="use-case-tag">Knowledge Management</span>
                    <span class="use-case-tag">Learning</span>
                </div>
            </div>
        </div>
        
        <div class="workflow-grid" style="margin-top: var(--spacing-xl);">
            <!-- Advanced Workflow 3: Multilingual Content Creator -->
            <div class="workflow-card">
                <h3 class="workflow-title">üåê Multilingual Content Creator</h3>
                <p class="workflow-description">Create content and adapt it for global audiences with cultural context, ensuring your message resonates across language barriers.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">‚úçÔ∏è</span>
                        Create Content
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîÑ</span>
                        Optimize
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üåê</span>
                        Translate
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="multilingualPrompt">Content Topic/Prompt:</label>
                    <input type="text" id="multilingualPrompt" placeholder="What do you want to create content about?" value="Benefits of regular exercise">
                </div>
                
                <div class="input-group">
                    <label for="multilingualLanguages">Target Languages:</label>
                    <select id="multilingualLanguages" multiple size="3">
                        <option value="es" selected>Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="ja">Japanese</option>
                        <option value="zh">Chinese</option>
                    </select>
                    <small style="font-size: 0.8rem; color: var(--on-surface-variant);">Hold Ctrl/Cmd to select multiple languages</small>
                </div>
                
                <div id="multilingualProgressContainer" class="loading-progress" style="display: none;">
                    <div id="multilingualProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runMultilingualCreator()">üåê Create & Translate</button>
                    <button onclick="checkMultilingualSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="multilingualStatus" class="status" style="display: none;"></div>
                
                <div id="multilingualResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>‚úçÔ∏è</span> Original Content (English)
                        </div>
                        <div id="originalContentResult" class="result-content"></div>
                    </div>
                    
                    <div id="translationsContainer"></div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Marketing</span>
                    <span class="use-case-tag">Content Creation</span>
                    <span class="use-case-tag">Global Business</span>
                    <span class="use-case-tag">Localization</span>
                </div>
            </div>
            
            <!-- Advanced Workflow 4: Smart Note-Taking Assistant -->
            <div class="workflow-card">
                <h3 class="workflow-title">üìù Smart Note-Taking Assistant</h3>
                <p class="workflow-description">Transform raw meeting notes or lectures into structured, organized information with action items, key decisions, and follow-ups.</p>
                
                <div class="workflow-diagram">
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üìã</span>
                        Process Notes
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üîç</span>
                        Extract Items
                    </div>
                    <div class="workflow-arrow">‚û°Ô∏è</div>
                    <div class="workflow-step">
                        <span class="workflow-step-icon">üìä</span>
                        Organize
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="notesText">Raw Notes:</label>
                    <textarea id="notesText" placeholder="Paste your raw meeting notes or lecture notes here..." style="height: 150px;">Product Team Meeting - June 30
- discussed new feature requests from clients
- John mentioned we need to fix the dashboard loading time
- Sarah showed data from last quarter, conversion up 15%
- team agreed to prioritize mobile app performance issues
- need to follow up with design team about new UI mockups
- decision: launch date moved to August 12
- action items: John to investigate slow loading, Sarah to prepare report for executives
- next steps: review UI mockups by end of week
- next meeting scheduled for July 7</textarea>
                </div>
                
                <div class="input-group">
                    <label for="notesFormat">Output Format:</label>
                    <select id="notesFormat">
                        <option value="structured">Structured Summary</option>
                        <option value="actionItems">Action Items Only</option>
                        <option value="decisions">Decisions & Key Points</option>
                        <option value="outline">Hierarchical Outline</option>
                    </select>
                </div>
                
                <div id="notesProgressContainer" class="loading-progress" style="display: none;">
                    <div id="notesProgressBar" class="loading-progress-bar" style="width: 0%;"></div>
                </div>
                
                <div class="button-group">
                    <button onclick="runNotesAssistant()">üìù Process Notes</button>
                    <button onclick="checkNotesSupport()" class="secondary">üîç Check API Support</button>
                </div>
                
                <div id="notesStatus" class="status" style="display: none;"></div>
                
                <div id="notesResults" class="result-container" style="display: none;">
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>üìù</span> Structured Notes
                        </div>
                        <div id="structuredNotesResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step">
                        <div class="result-step-title">
                            <span>‚úÖ</span> Action Items & Next Steps
                        </div>
                        <div id="actionItemsResult" class="result-content"></div>
                    </div>
                    
                    <div class="result-step" id="followupQuestionsContainer">
                        <div class="result-step-title">
                            <span>‚ùì</span> Suggested Follow-up Questions
                        </div>
                        <div id="followupQuestionsResult" class="result-content"></div>
                    </div>
                </div>
                
                <div style="margin-top: var(--spacing-md);">
                    <span class="use-case-tag">Meetings</span>
                    <span class="use-case-tag">Education</span>
                    <span class="use-case-tag">Productivity</span>
                    <span class="use-case-tag">Organization</span>
                </div>
            </div>
        </div>
        
        <footer>
            <p>üí° All processing happens locally on your device using Google's Gemini Nano models - no data is sent to the cloud.</p>
            
            <div class="footer-links">
                <a href="index.html">üè† Home</a> | 
                <a href="gemini-nano-samples.html">üì± API Demos</a> | 
                <a href="index.html#setup">‚öôÔ∏è Setup & Configuration</a>
            </div>
        </footer>
    </div>

    <script>
        // Global variables for API sessions
        let promptSession = null;
        let summarizerSession = null;
        let writerSession = null;
        let rewriterSession = null;
        let translatorSession = null;
        let languageDetector = null;
        
        // Utility function to show status
        function showStatus(elementId, message, type = 'info') {
            const statusElement = document.getElementById(elementId);
            statusElement.className = `status ${type}`;
            statusElement.textContent = message;
            statusElement.style.display = 'block';
        }

        // Utility function to hide status
        function hideStatus(elementId) {
            document.getElementById(elementId).style.display = 'none';
        }
        
        // Utility function to show results
        function showResult(elementId, result) {
            const resultElement = document.getElementById(elementId);
            resultElement.textContent = result;
        }
        
        // Check if APIs are available and ready
        async function checkUniversalSupport() {
            showStatus('universalStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Detector
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                const detectorStatus = await LanguageDetector.availability();
                
                // Check Translator
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                // Note: Translator availability needs language pair
                const translatorStatus = await Translator.availability({
                    sourceLanguage: 'en',
                    targetLanguage: 'es'
                });
                
                // Check Summarizer
                if (!('Summarizer' in self)) {
                    throw new Error('Summarizer API not available');
                }
                const summarizerStatus = await Summarizer.availability();
                
                showStatus('universalStatus', 
                    `API Status: Language Detector (${detectorStatus}), ` +
                    `Translator (${translatorStatus}), ` +
                    `Summarizer (${summarizerStatus})`, 
                    'success');
                
                if (detectorStatus === 'ready' && 
                    translatorStatus === 'ready' && 
                    summarizerStatus === 'ready') {
                    showStatus('universalStatus', 'All APIs are ready!', 'success');
                } else {
                    showStatus('universalStatus', 'Some APIs need to download models.', 'info');
                }
            } catch (error) {
                showStatus('universalStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Run the universal workflow: detect ‚Üí translate ‚Üí summarize
        async function runUniversalWorkflow() {
            const text = document.getElementById('universalText').value;
            const targetLang = document.getElementById('targetLanguage').value;
            const summaryLength = document.getElementById('summaryLength').value;
            
            if (!text.trim()) {
                showStatus('universalStatus', 'Please enter text to process', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('universalProgressContainer').style.display = 'block';
            document.getElementById('universalProgressBar').style.width = '0%';
            
            try {
                showStatus('universalStatus', 'Starting workflow...', 'loading');
                document.getElementById('universalResults').style.display = 'none';
                
                // Step 1: Detect language
                showStatus('universalStatus', 'Step 1: Detecting language...', 'loading');
                document.getElementById('universalProgressBar').style.width = '10%';
                
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                
                const detector = await LanguageDetector.create();
                const detectionResults = await detector.detect(text);
                
                const detectedLang = detectionResults[0].detectedLanguage;
                const confidence = detectionResults[0].confidence;
                
                showResult('detectResult', `Detected language: ${detectedLang} (confidence: ${(confidence * 100).toFixed(1)}%)`);
                document.getElementById('universalProgressBar').style.width = '33%';
                
                // Step 2: Translate to target language (if different)
                showStatus('universalStatus', 'Step 2: Translating text...', 'loading');
                
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                
                let translatedText = text;
                let translationInfo = 'Source and target languages are the same. No translation needed.';
                
                if (detectedLang !== targetLang) {
                    const translator = await Translator.create({
                        sourceLanguage: detectedLang,
                        targetLanguage: targetLang
                    });
                    
                    translatedText = await translator.translate(text);
                    translationInfo = `Translated from ${detectedLang} to ${targetLang}`;
                    translator.destroy();
                }
                
                showResult('translateResult', `${translationInfo}\n\n${translatedText}`);
                document.getElementById('universalProgressBar').style.width = '66%';
                
                // Step 3: Summarize the translated text
                showStatus('universalStatus', 'Step 3: Generating summary...', 'loading');
                
                if (!('Summarizer' in self)) {
                    throw new Error('Summarizer API not available');
                }
                
                const summarizer = await Summarizer.create({
                    type: 'key-points',
                    format: 'plain-text',
                    length: summaryLength
                });
                
                const summary = await summarizer.summarize(translatedText);
                showResult('summarizeResult', summary);
                
                document.getElementById('universalProgressBar').style.width = '100%';
                showStatus('universalStatus', 'Workflow completed successfully!', 'success');
                
                // Show results container
                document.getElementById('universalResults').style.display = 'block';
                
                // Clean up resources
                detector.destroy();
                summarizer.destroy();
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('universalProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('universalProgressContainer').style.display = 'none';
                showStatus('universalStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Check support for content generator workflow
        async function checkContentSupport() {
            showStatus('contentStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                // Check Rewriter (note: this is experimental)
                let rewriterStatus = 'unavailable';
                if ('Rewriter' in self) {
                    try {
                        rewriterStatus = await Rewriter.availability();
                    } catch (e) {
                        rewriterStatus = 'unavailable';
                    }
                }
                
                showStatus('contentStatus', 
                    `API Status: Language Model (${promptStatus}), ` +
                    `Rewriter (${rewriterStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('contentStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Run the content generation workflow
        async function runContentWorkflow() {
            const prompt = document.getElementById('contentPrompt').value;
            const tone = document.getElementById('contentTone').value;
            
            if (!prompt.trim()) {
                showStatus('contentStatus', 'Please enter a prompt', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('contentProgressContainer').style.display = 'block';
            document.getElementById('contentProgressBar').style.width = '0%';
            
            try {
                showStatus('contentStatus', 'Starting content workflow...', 'loading');
                document.getElementById('contentResults').style.display = 'none';
                
                // Step 1: Generate initial content with LanguageModel
                showStatus('contentStatus', 'Step 1: Generating initial content...', 'loading');
                document.getElementById('contentProgressBar').style.width = '25%';
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                let toneInstruction = '';
                switch (tone) {
                    case 'formal':
                        toneInstruction = 'Write in a professional, formal tone.';
                        break;
                    case 'casual':
                        toneInstruction = 'Write in a casual, conversational tone.';
                        break;
                    case 'enthusiastic':
                        toneInstruction = 'Write in an enthusiastic, energetic tone.';
                        break;
                    case 'informative':
                        toneInstruction = 'Write in an informative, educational tone.';
                        break;
                }
                
                const systemPrompt = `You are a skilled content writer. ${toneInstruction} Keep your response concise and focused.`;
                
                // Create or reuse the session
                if (!promptSession) {
                    promptSession = await LanguageModel.create({
                        systemPrompt: systemPrompt
                    });
                }
                
                const initialContent = await promptSession.prompt(prompt);
                showResult('draftResult', initialContent);
                
                document.getElementById('contentProgressBar').style.width = '50%';
                
                // Step 2: Polish and enhance the content
                showStatus('contentStatus', 'Step 2: Polishing and enhancing content...', 'loading');
                
                let enhancedContent = initialContent;
                
                // Check if Rewriter is available
                if ('Rewriter' in self) {
                    try {
                        const rewriterStatus = await Rewriter.availability();
                        
                        if (rewriterStatus === 'ready') {
                            const rewriter = await Rewriter.create({
                                tone: 'as-is',
                                length: 'as-is'
                            });
                            
                            enhancedContent = await rewriter.rewrite(initialContent);
                            rewriter.destroy();
                        } else {
                            // Fallback to using LanguageModel for enhancement
                            enhancedContent = await promptSession.prompt(
                                `Please improve and polish the following text without changing its main points. Make it more engaging and professional:\n\n${initialContent}`
                            );
                        }
                    } catch (e) {
                        // Fallback to using LanguageModel for enhancement
                        enhancedContent = await promptSession.prompt(
                            `Please improve and polish the following text without changing its main points. Make it more engaging and professional:\n\n${initialContent}`
                        );
                    }
                } else {
                    // Fallback to using LanguageModel for enhancement
                    enhancedContent = await promptSession.prompt(
                        `Please improve and polish the following text without changing its main points. Make it more engaging and professional:\n\n${initialContent}`
                    );
                }
                
                showResult('enhancedResult', enhancedContent);
                
                document.getElementById('contentProgressBar').style.width = '100%';
                showStatus('contentStatus', 'Content generated and enhanced!', 'success');
                
                // Show results container
                document.getElementById('contentResults').style.display = 'block';
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('contentProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('contentProgressContainer').style.display = 'none';
                showStatus('contentStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Check support for multilingual customer support workflow
        async function checkSupportSupport() {
            showStatus('supportStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Detector
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                const detectorStatus = await LanguageDetector.availability();
                
                // Check Translator
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                // Note: we'll use a generic language pair for the check
                const translatorStatus = await Translator.availability({
                    sourceLanguage: 'en',
                    targetLanguage: 'de'
                });
                
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                showStatus('supportStatus', 
                    `API Status: Language Detector (${detectorStatus}), ` +
                    `Translator (${translatorStatus}), ` +
                    `Language Model (${promptStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('supportStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Run the multilingual customer support workflow
        async function runSupportWorkflow() {
            const customerText = document.getElementById('customerMessage').value;
            const supportContext = document.getElementById('supportContext').value;
            
            if (!customerText.trim()) {
                showStatus('supportStatus', 'Please enter a customer message', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('supportProgressContainer').style.display = 'block';
            document.getElementById('supportProgressBar').style.width = '0%';
            
            try {
                showStatus('supportStatus', 'Starting support workflow...', 'loading');
                document.getElementById('supportResults').style.display = 'none';
                
                // Step 1: Detect language
                showStatus('supportStatus', 'Step 1: Detecting language...', 'loading');
                document.getElementById('supportProgressBar').style.width = '10%';
                
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                
                const detector = await LanguageDetector.create();
                const detectionResults = await detector.detect(customerText);
                
                const detectedLang = detectionResults[0].detectedLanguage;
                const confidence = detectionResults[0].confidence;
                
                showResult('customerLanguageResult', `Detected language: ${detectedLang} (confidence: ${(confidence * 100).toFixed(1)}%)`);
                document.getElementById('supportProgressBar').style.width = '25%';
                
                // Step 2: Translate to English for processing
                showStatus('supportStatus', 'Step 2: Translating to English...', 'loading');
                
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                
                let translatedQuery = customerText;
                
                if (detectedLang !== 'en') {
                    const translator = await Translator.create({
                        sourceLanguage: detectedLang,
                        targetLanguage: 'en'
                    });
                    
                    translatedQuery = await translator.translate(customerText);
                    translator.destroy();
                }
                
                showResult('translatedQueryResult', translatedQuery);
                document.getElementById('supportProgressBar').style.width = '50%';
                
                // Step 3: Generate support response in English
                showStatus('supportStatus', 'Step 3: Generating support response...', 'loading');
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: supportContext
                });
                
                const englishResponse = await languageModel.prompt(
                    `Customer query: ${translatedQuery}\n\nPlease provide a helpful response.`
                );
                
                showResult('supportResponseResult', englishResponse);
                document.getElementById('supportProgressBar').style.width = '75%';
                
                // Step 4: Translate response back to customer's language
                showStatus('supportStatus', 'Step 4: Translating response back...', 'loading');
                
                let finalResponse = englishResponse;
                
                if (detectedLang !== 'en') {
                    const responseTranslator = await Translator.create({
                        sourceLanguage: 'en',
                        targetLanguage: detectedLang
                    });
                    
                    finalResponse = await responseTranslator.translate(englishResponse);
                    responseTranslator.destroy();
                }
                
                showResult('translatedResponseResult', finalResponse);
                
                document.getElementById('supportProgressBar').style.width = '100%';
                showStatus('supportStatus', 'Support workflow completed successfully!', 'success');
                
                // Show results container
                document.getElementById('supportResults').style.display = 'block';
                
                // Clean up resources
                detector.destroy();
                languageModel.destroy();
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('supportProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('supportProgressContainer').style.display = 'none';
                showStatus('supportStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Check support for document processing workflow
        async function checkDocumentSupport() {
            showStatus('documentStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Summarizer
                if (!('Summarizer' in self)) {
                    throw new Error('Summarizer API not available');
                }
                const summarizerStatus = await Summarizer.availability();
                
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                showStatus('documentStatus', 
                    `API Status: Summarizer (${summarizerStatus}), ` +
                    `Language Model (${promptStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('documentStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Run the document processing workflow
        async function runDocumentWorkflow() {
            const documentText = document.getElementById('documentText').value;
            const query = document.getElementById('documentQuery').value;
            
            if (!documentText.trim()) {
                showStatus('documentStatus', 'Please enter document text', 'error');
                return;
            }
            
            if (!query.trim()) {
                showStatus('documentStatus', 'Please enter a question or information to extract', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('documentProgressContainer').style.display = 'block';
            document.getElementById('documentProgressBar').style.width = '0%';
            
            try {
                showStatus('documentStatus', 'Starting document workflow...', 'loading');
                document.getElementById('documentResults').style.display = 'none';
                
                // Step 1: Summarize document
                showStatus('documentStatus', 'Step 1: Summarizing document...', 'loading');
                document.getElementById('documentProgressBar').style.width = '25%';
                
                if (!('Summarizer' in self)) {
                    throw new Error('Summarizer API not available');
                }
                
                const summarizer = await Summarizer.create({
                    type: 'key-points',
                    format: 'plain-text',
                    length: 'medium'
                });
                
                const summary = await summarizer.summarize(documentText);
                showResult('documentSummaryResult', summary);
                
                document.getElementById('documentProgressBar').style.width = '50%';
                
                // Step 2: Extract information or answer question using the Language Model
                showStatus('documentStatus', 'Step 2: Extracting information...', 'loading');
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: "You are a helpful AI assistant that answers questions based on provided document text. Be accurate and concise in your answers."
                });
                
                const answer = await languageModel.prompt(
                    `Document: ${documentText}\n\nSummary: ${summary}\n\nQuestion: ${query}\n\nPlease answer based on the document.`
                );
                
                showResult('documentAnswerResult', answer);
                
                document.getElementById('documentProgressBar').style.width = '100%';
                showStatus('documentStatus', 'Document processing completed successfully!', 'success');
                
                // Show results container
                document.getElementById('documentResults').style.display = 'block';
                
                // Clean up resources
                summarizer.destroy();
                languageModel.destroy();
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('documentProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('documentProgressContainer').style.display = 'none';
                showStatus('documentStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Smart Reading Assistant functions
        async function checkReadingSupport() {
            showStatus('readingStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Detector
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                const detectorStatus = await LanguageDetector.availability();
                
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                showStatus('readingStatus', 
                    `API Status: Language Detector (${detectorStatus}), ` +
                    `Language Model (${promptStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('readingStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Variables to store original text and processed content for follow-up questions
        let readingOriginalText = '';
        let readingProcessedText = '';
        
        async function runReadingAssistant() {
            const text = document.getElementById('readingText').value;
            const mode = document.getElementById('readingMode').value;
            
            if (!text.trim()) {
                showStatus('readingStatus', 'Please enter text to process', 'error');
                return;
            }
            
            // Store original text for follow-up questions
            readingOriginalText = text;
            
            // Show progress container
            document.getElementById('readingProgressContainer').style.display = 'block';
            document.getElementById('readingProgressBar').style.width = '0%';
            
            try {
                showStatus('readingStatus', 'Starting reading assistant...', 'loading');
                document.getElementById('readingResults').style.display = 'none';
                
                // Step 1: Detect language
                showStatus('readingStatus', 'Step 1: Detecting language...', 'loading');
                document.getElementById('readingProgressBar').style.width = '25%';
                
                if (!('LanguageDetector' in self)) {
                    throw new Error('Language Detector API not available');
                }
                
                const detector = await LanguageDetector.create();
                const detectionResults = await detector.detect(text);
                
                const detectedLang = detectionResults[0].detectedLanguage;
                const confidence = detectionResults[0].confidence;
                
                showResult('readingLanguageResult', `Detected language: ${detectedLang} (confidence: ${(confidence * 100).toFixed(1)}%)`);
                document.getElementById('readingProgressBar').style.width = '50%';
                
                // Step 2: Process content based on selected mode
                showStatus('readingStatus', 'Step 2: Processing content...', 'loading');
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                // Create system prompt based on mode
                let systemPrompt = "You are a helpful reading assistant that helps users understand content better.";
                let userPrompt = "";
                
                switch (mode) {
                    case 'summary':
                        systemPrompt += " You create concise key point summaries of text.";
                        userPrompt = `Please provide a key points summary of the following text. Focus on the main ideas and important details only:\n\n${text}`;
                        break;
                    case 'simple':
                        systemPrompt += " You explain complex topics in simple terms that anyone can understand.";
                        userPrompt = `Please explain the following text in very simple terms, as if you're explaining to someone with no background knowledge (ELI5 - Explain Like I'm 5). Use analogies and examples to help understanding:\n\n${text}`;
                        break;
                    case 'expert':
                        systemPrompt += " You provide expert-level analysis and insights about content.";
                        userPrompt = `Please provide an expert-level analysis of the following text. Include technical details, identify underlying concepts, and provide deeper context where appropriate:\n\n${text}`;
                        break;
                    case 'questions':
                        systemPrompt += " You generate thoughtful study questions to help understand content better.";
                        userPrompt = `Please generate 5 thoughtful study questions based on the following text. These questions should help deepen understanding and encourage critical thinking about the content:\n\n${text}`;
                        break;
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: systemPrompt
                });
                
                const processedContent = await languageModel.prompt(userPrompt);
                readingProcessedText = processedContent; // Store for follow-up questions
                
                showResult('readingContentResult', processedContent);
                
                document.getElementById('readingProgressBar').style.width = '100%';
                showStatus('readingStatus', 'Content processed successfully!', 'success');
                
                // Show results container
                document.getElementById('readingResults').style.display = 'block';
                document.getElementById('readingFollowupContainer').style.display = 'block';
                
                // Clean up resources
                detector.destroy();
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('readingProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('readingProgressContainer').style.display = 'none';
                showStatus('readingStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Function to handle follow-up questions
        async function askFollowupQuestion() {
            const question = document.getElementById('followupQuestion').value;
            
            if (!question.trim()) {
                showStatus('readingStatus', 'Please enter a question', 'error');
                return;
            }
            
            try {
                showStatus('readingStatus', 'Processing your question...', 'loading');
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: "You are a helpful reading assistant that answers questions about content. Base your answers only on the provided original text and processed content."
                });
                
                const answer = await languageModel.prompt(
                    `Original Text: ${readingOriginalText}\n\nProcessed Content: ${readingProcessedText}\n\nQuestion: ${question}\n\nPlease answer the question based on the content above.`
                );
                
                showResult('followupResult', answer);
                showStatus('readingStatus', 'Question answered!', 'success');
                
            } catch (error) {
                showStatus('readingStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Context-Aware Knowledge Explorer functions
        async function checkContextSupport() {
            showStatus('contextStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                showStatus('contextStatus', 
                    `API Status: Language Model (${promptStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('contextStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        // Function to create clickable topic chip
        function createTopicChip(topic) {
            const chip = document.createElement('span');
            chip.className = 'use-case-tag';
            chip.style.cursor = 'pointer';
            chip.textContent = topic;
            chip.addEventListener('click', () => {
                document.getElementById('contextConcept').value = topic;
                runContextExplorer();
            });
            return chip;
        }
        
        async function runContextExplorer() {
            const concept = document.getElementById('contextConcept').value;
            const mode = document.getElementById('contextMode').value;
            
            if (!concept.trim()) {
                showStatus('contextStatus', 'Please enter a concept to explore', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('contextProgressContainer').style.display = 'block';
            document.getElementById('contextProgressBar').style.width = '0%';
            
            try {
                showStatus('contextStatus', 'Starting context explorer...', 'loading');
                document.getElementById('contextResults').style.display = 'none';
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                document.getElementById('contextProgressBar').style.width = '33%';
                
                // Create system prompt based on mode
                let systemPrompt = "You are a knowledgeable assistant that provides in-depth information about concepts and topics.";
                let conceptPrompt = "";
                
                switch (mode) {
                    case 'explain':
                        systemPrompt += " You provide clear, comprehensive explanations of concepts.";
                        conceptPrompt = `Please provide a clear explanation of the concept: ${concept}. Cover what it is, its importance, and its core principles.`;
                        break;
                    case 'examples':
                        systemPrompt += " You provide practical examples and applications of concepts.";
                        conceptPrompt = `Please provide practical examples and real-world applications of: ${concept}. Include specific use cases and how the concept is implemented in practice.`;
                        break;
                    case 'related':
                        systemPrompt += " You identify related concepts and how they connect to the main topic.";
                        conceptPrompt = `Please identify concepts that are related to: ${concept}. Explain how each related concept connects to the main topic and how they work together.`;
                        break;
                    case 'history':
                        systemPrompt += " You provide historical context and the evolution of concepts over time.";
                        conceptPrompt = `Please provide the historical context and evolution of: ${concept}. Include key developments, important figures, and how the concept has changed over time.`;
                        break;
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: systemPrompt
                });
                
                const explanation = await languageModel.prompt(conceptPrompt);
                showResult('conceptExplanationResult', explanation);
                
                document.getElementById('contextProgressBar').style.width = '66%';
                
                // Generate additional context and connections
                const contextPrompt = `For the concept "${concept}", please provide additional context that would help someone understand it better. Include how it relates to broader fields or domains, and any important context that wasn't covered in the main explanation.`;
                
                const additionalContext = await languageModel.prompt(contextPrompt);
                showResult('conceptContextResult', additionalContext);
                
                document.getElementById('contextProgressBar').style.width = '100%';
                
                // Generate related topics as clickable chips
                const relatedTopicsPrompt = `Please list 5 specific related topics or concepts that someone interested in "${concept}" might want to explore next. Return only the names of the topics separated by commas, no explanations.`;
                
                const relatedTopics = await languageModel.prompt(relatedTopicsPrompt);
                const topicsList = relatedTopics.split(',').map(topic => topic.trim());
                
                const topicsContainer = document.getElementById('relatedTopicsContainer');
                topicsContainer.innerHTML = '';
                
                topicsList.forEach(topic => {
                    if (topic) {
                        topicsContainer.appendChild(createTopicChip(topic));
                    }
                });
                
                showStatus('contextStatus', 'Context exploration completed!', 'success');
                
                // Show results container
                document.getElementById('contextResults').style.display = 'block';
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('contextProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('contextProgressContainer').style.display = 'none';
                showStatus('contextStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Multilingual Content Creator functions
        async function checkMultilingualSupport() {
            showStatus('multilingualStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                // Check Translator
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                // Note: we'll use a generic language pair for the check
                const translatorStatus = await Translator.availability({
                    sourceLanguage: 'en',
                    targetLanguage: 'es'
                });
                
                showStatus('multilingualStatus', 
                    `API Status: Language Model (${promptStatus}), ` +
                    `Translator (${translatorStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('multilingualStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        async function runMultilingualCreator() {
            const prompt = document.getElementById('multilingualPrompt').value;
            const languageSelect = document.getElementById('multilingualLanguages');
            const selectedLanguages = Array.from(languageSelect.selectedOptions).map(option => option.value);
            
            if (!prompt.trim()) {
                showStatus('multilingualStatus', 'Please enter a content prompt', 'error');
                return;
            }
            
            if (selectedLanguages.length === 0) {
                showStatus('multilingualStatus', 'Please select at least one target language', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('multilingualProgressContainer').style.display = 'block';
            document.getElementById('multilingualProgressBar').style.width = '0%';
            
            try {
                showStatus('multilingualStatus', 'Starting content creation...', 'loading');
                document.getElementById('multilingualResults').style.display = 'none';
                
                // Step 1: Generate content in English
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: "You are a skilled content writer who creates engaging, informative content. Your writing should be clear, concise, and easy to understand."
                });
                
                showStatus('multilingualStatus', 'Step 1: Generating original content...', 'loading');
                document.getElementById('multilingualProgressBar').style.width = '20%';
                
                const contentPrompt = `Please create a short, engaging piece of content about the following topic: ${prompt}. Keep it concise (around 150-200 words) but informative and well-structured.`;
                const originalContent = await languageModel.prompt(contentPrompt);
                
                showResult('originalContentResult', originalContent);
                document.getElementById('multilingualProgressBar').style.width = '40%';
                
                // Step 2: Optimize content for translation
                showStatus('multilingualStatus', 'Step 2: Optimizing content for translation...', 'loading');
                
                const optimizationPrompt = `Please review and optimize the following content to ensure it will translate well to other languages. Simplify complex idioms or cultural references, use clear and direct language, and ensure the content will be appropriate across cultures:\n\n${originalContent}`;
                const optimizedContent = await languageModel.prompt(optimizationPrompt);
                
                document.getElementById('multilingualProgressBar').style.width = '60%';
                
                // Step 3: Translate to selected languages
                showStatus('multilingualStatus', 'Step 3: Translating content...', 'loading');
                
                if (!('Translator' in self)) {
                    throw new Error('Translator API not available');
                }
                
                // Clear previous translations
                const translationsContainer = document.getElementById('translationsContainer');
                translationsContainer.innerHTML = '';
                
                // Progress increment per language
                const progressIncrement = 40 / selectedLanguages.length;
                let currentProgress = 60;
                
                // Create language name mapping
                const languageNames = {
                    'es': 'Spanish',
                    'fr': 'French',
                    'de': 'German',
                    'ja': 'Japanese',
                    'zh': 'Chinese'
                };
                
                // Translate to each selected language
                for (const langCode of selectedLanguages) {
                    const translator = await Translator.create({
                        sourceLanguage: 'en',
                        targetLanguage: langCode
                    });
                    
                    const translatedContent = await translator.translate(optimizedContent);
                    
                    // Create a result step for this language
                    const langName = languageNames[langCode] || langCode;
                    const resultStep = document.createElement('div');
                    resultStep.className = 'result-step';
                    resultStep.innerHTML = `
                        <div class="result-step-title">
                            <span>üåê</span> ${langName} Translation
                        </div>
                        <div class="result-content">${translatedContent}</div>
                    `;
                    
                    translationsContainer.appendChild(resultStep);
                    translator.destroy();
                    
                    // Update progress
                    currentProgress += progressIncrement;
                    document.getElementById('multilingualProgressBar').style.width = `${currentProgress}%`;
                }
                
                document.getElementById('multilingualProgressBar').style.width = '100%';
                showStatus('multilingualStatus', 'Content created and translated successfully!', 'success');
                
                // Show results container
                document.getElementById('multilingualResults').style.display = 'block';
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('multilingualProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('multilingualProgressContainer').style.display = 'none';
                showStatus('multilingualStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }
        
        // Smart Note-Taking Assistant functions
        async function checkNotesSupport() {
            showStatus('notesStatus', 'Checking API support...', 'loading');
            
            try {
                // Check Language Model
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                const promptStatus = await LanguageModel.availability();
                
                showStatus('notesStatus', 
                    `API Status: Language Model (${promptStatus})`, 
                    'success');
                
            } catch (error) {
                showStatus('notesStatus', `Error: ${error.message}`, 'error');
            }
        }
        
        async function runNotesAssistant() {
            const notes = document.getElementById('notesText').value;
            const format = document.getElementById('notesFormat').value;
            
            if (!notes.trim()) {
                showStatus('notesStatus', 'Please enter notes to process', 'error');
                return;
            }
            
            // Show progress container
            document.getElementById('notesProgressContainer').style.display = 'block';
            document.getElementById('notesProgressBar').style.width = '0%';
            
            try {
                showStatus('notesStatus', 'Starting notes processing...', 'loading');
                document.getElementById('notesResults').style.display = 'none';
                
                if (!('LanguageModel' in self)) {
                    throw new Error('Language Model API not available');
                }
                
                const languageModel = await LanguageModel.create({
                    systemPrompt: "You are a professional note-taking assistant that helps organize and structure meeting notes and lectures into clear, actionable formats."
                });
                
                // Step 1: Process and structure notes
                showStatus('notesStatus', 'Step 1: Structuring notes...', 'loading');
                document.getElementById('notesProgressBar').style.width = '33%';
                
                let structuredNotesPrompt = "";
                
                switch (format) {
                    case 'structured':
                        structuredNotesPrompt = `Please convert these raw notes into a well-structured summary with clear sections, headings, and bullet points:\n\n${notes}`;
                        break;
                    case 'actionItems':
                        structuredNotesPrompt = `Please extract and organize all action items, tasks, and responsibilities from these notes. Format them as a task list with owners (if mentioned) and any relevant deadlines:\n\n${notes}`;
                        break;
                    case 'decisions':
                        structuredNotesPrompt = `Please extract and organize all decisions, key points, and important outcomes from these notes. Format them in a clear, structured way:\n\n${notes}`;
                        break;
                    case 'outline':
                        structuredNotesPrompt = `Please convert these raw notes into a hierarchical outline with main topics, subtopics, and supporting points. Use proper outline formatting with numbers and letters:\n\n${notes}`;
                        break;
                }
                
                const structuredNotes = await languageModel.prompt(structuredNotesPrompt);
                showResult('structuredNotesResult', structuredNotes);
                
                document.getElementById('notesProgressBar').style.width = '66%';
                
                // Step 2: Extract action items and next steps
                showStatus('notesStatus', 'Step 2: Extracting action items...', 'loading');
                
                const actionItemsPrompt = `Please extract only the action items, tasks, and next steps from these notes. Format them as a clear to-do list with owners (if mentioned) and deadlines (if mentioned):\n\n${notes}`;
                const actionItems = await languageModel.prompt(actionItemsPrompt);
                
                showResult('actionItemsResult', actionItems);
                document.getElementById('notesProgressBar').style.width = '85%';
                
                // Step 3: Generate follow-up questions
                showStatus('notesStatus', 'Step 3: Generating follow-up questions...', 'loading');
                
                const questionsPrompt = `Based on these notes, what are 3-5 important follow-up questions that should be addressed at the next meeting or discussion? Format them as a numbered list:\n\n${notes}`;
                const followupQuestions = await languageModel.prompt(questionsPrompt);
                
                showResult('followupQuestionsResult', followupQuestions);
                
                document.getElementById('notesProgressBar').style.width = '100%';
                showStatus('notesStatus', 'Notes processed successfully!', 'success');
                
                // Show results container
                document.getElementById('notesResults').style.display = 'block';
                
                // Hide progress after a delay
                setTimeout(() => {
                    document.getElementById('notesProgressContainer').style.display = 'none';
                }, 1500);
                
            } catch (error) {
                document.getElementById('notesProgressContainer').style.display = 'none';
                showStatus('notesStatus', `Workflow failed: ${error.message}`, 'error');
            }
        }

        // Initialize page
        window.addEventListener('load', function() {
            // Check initial support for all APIs
            console.log('Checking API availability...');
            console.log('LanguageModel available:', 'LanguageModel' in self);
            console.log('Summarizer available:', 'Summarizer' in self);
            console.log('Translator available:', 'Translator' in self);
            console.log('LanguageDetector available:', 'LanguageDetector' in self);
        });
    </script>
</body>
</html>
